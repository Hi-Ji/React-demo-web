{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useParams,Navigate,useNavigate,useLocation}from\"react-router-dom\";import Button from\"./Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TaskDetails(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),task=_useState4[0],setTask=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var params=useParams();var navigate=useNavigate();var _useLocation=useLocation(),pathname=_useLocation.pathname;useEffect(function(){var fetchTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(params.id));case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;if(res.status===404){navigate('/');}setTask(data);setLoading(false);case 9:case\"end\":return _context.stop();}},_callee);}));return function fetchTasks(){return _ref.apply(this,arguments);};}();fetchTasks();});return loading?/*#__PURE__*/_jsx(\"h3\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:pathname}),/*#__PURE__*/_jsx(\"h3\",{children:task.text}),/*#__PURE__*/_jsx(\"p\",{children:task.day}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){navigate(-2);},text:\"Go Back\"})]});}export default TaskDetails;","map":{"version":3,"names":["useState","useEffect","useParams","Navigate","useNavigate","useLocation","Button","jsx","_jsx","jsxs","_jsxs","TaskDetails","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","task","setTask","_useState5","_useState6","error","setError","params","navigate","_useLocation","pathname","fetchTasks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","fetch","concat","id","sent","json","status","stop","apply","arguments","children","text","day","onClick"],"sources":["/Users/zhuji/Desktop/react/task_tracker_react_demo/src/components/TaskDetails.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, Navigate, useNavigate,useLocation } from \"react-router-dom\";\nimport Button from \"./Button\";\n\nfunction TaskDetails() {\n  const [loading, setLoading] = useState(true)\n  const [task, setTask] = useState({})\n  const [error, setError] = useState(null)\n\n  const params = useParams()\n  const navigate = useNavigate()\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      const res = await fetch(`http://localhost:5000/tasks/${params.id}`)\n      const data = await res.json()\n\n      if(res.status === 404){\n        navigate('/')\n      }\n\n      setTask(data)\n      setLoading(false)\n    }\n\n    fetchTasks()\n  })\n\n  \n\n  return loading ? (\n    <h3>Loading...</h3>\n    ) : (\n      <div>\n        <p>{pathname}</p>\n        <h3>{task.text}</h3>\n        <p>{task.day}</p>\n        <Button onClick={() => {\n          navigate(-2)\n        }} text='Go Back'/>\n      </div>\n    )\n}\n\nexport default TaskDetails\n"],"mappings":"waAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,CAACC,WAAW,KAAQ,kBAAkB,CAC/E,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,IAAAC,SAAA,CAA8BZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAwBjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA0BrB,QAAQ,CAAC,IAAI,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB,GAAM,CAAAG,MAAM,CAAGvB,SAAS,EAAE,CAC1B,GAAM,CAAAwB,QAAQ,CAAGtB,WAAW,EAAE,CAC9B,IAAAuB,YAAA,CAAqBtB,WAAW,EAAE,CAA1BuB,QAAQ,CAAAD,YAAA,CAARC,QAAQ,CAEhB3B,SAAS,CAAC,UAAM,CACd,GAAM,CAAA4B,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACC,CAAAC,KAAK,gCAAAC,MAAA,CAAgClB,MAAM,CAACmB,EAAE,EAAG,QAA7DT,GAAG,CAAAI,QAAA,CAAAM,IAAA,CAAAN,QAAA,CAAAE,IAAA,SACU,CAAAN,GAAG,CAACW,IAAI,EAAE,QAAvBV,IAAI,CAAAG,QAAA,CAAAM,IAAA,CAEV,GAAGV,GAAG,CAACY,MAAM,GAAK,GAAG,CAAC,CACpBrB,QAAQ,CAAC,GAAG,CAAC,CACf,CAEAN,OAAO,CAACgB,IAAI,CAAC,CACbpB,UAAU,CAAC,KAAK,CAAC,yBAAAuB,QAAA,CAAAS,IAAA,MAAAd,OAAA,GAClB,kBAVK,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAUf,CAEDrB,UAAU,EAAE,CACd,CAAC,CAAC,CAIF,MAAO,CAAAd,OAAO,cACZP,IAAA,OAAA2C,QAAA,CAAI,YAAU,EAAK,cAEjBzC,KAAA,QAAAyC,QAAA,eACE3C,IAAA,MAAA2C,QAAA,CAAIvB,QAAQ,EAAK,cACjBpB,IAAA,OAAA2C,QAAA,CAAKhC,IAAI,CAACiC,IAAI,EAAM,cACpB5C,IAAA,MAAA2C,QAAA,CAAIhC,IAAI,CAACkC,GAAG,EAAK,cACjB7C,IAAA,CAACF,MAAM,EAACgD,OAAO,CAAE,SAAAA,QAAA,CAAM,CACrB5B,QAAQ,CAAC,CAAC,CAAC,CAAC,CACd,CAAE,CAAC0B,IAAI,CAAC,SAAS,EAAE,GAEtB,CACL,CAEA,cAAe,CAAAzC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}
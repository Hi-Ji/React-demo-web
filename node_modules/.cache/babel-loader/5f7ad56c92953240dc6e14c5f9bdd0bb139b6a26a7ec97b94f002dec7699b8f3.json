{"ast":null,"code":"import _objectSpread from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zhuji/Desktop/react/task_tracker_react_demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import Header from\"./components/Header\";import Tasks from\"./components/Tasks\";import AddTask from\"./components/AddTask\";import Footer from\"./components/Footer\";import About from\"./components/About\";import TaskDetails from\"./components/TaskDetails\";//-----------------------------biaozhu\n//-----------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAddTask=_useState2[0],setShowAddTask=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];useEffect(function(){var fetchTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var tasksFromServer;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTasks();case 2:tasksFromServer=_context.sent;setTasks(tasksFromServer);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchTasks(){return _ref.apply(this,arguments);};}();fetchTasks();},[]);//fetch tasks\nvar fetchTasks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id));case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function fetchTasks(_x){return _ref2.apply(this,arguments);};}();//add task\nvar addTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(task){var res,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('http://localhost:5000/tasks',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(task)});case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;setTasks([].concat(_toConsumableArray(tasks),[data]));// const id = Math.floor(Math.random() * 10000) + 1\n// const newTask = { id, ...task}\n// setTasks([...tasks, newTask])\ncase 7:case\"end\":return _context3.stop();}},_callee3);}));return function addTask(_x2){return _ref3.apply(this,arguments);};}();//delete Task\nvar deleteTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:'DELETE'});case 2:setTasks(tasks.filter(function(task){return task.id!==id;}));case 3:case\"end\":return _context4.stop();}},_callee4);}));return function deleteTask(_x3){return _ref4.apply(this,arguments);};}();//reminder\nvar toggleReminder=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){var taskToToggle,updTask,res,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetchTasks(id);case 2:taskToToggle=_context5.sent;updTask=_objectSpread(_objectSpread({},taskToToggle),{},{reminder:!taskToToggle.reminder});_context5.next=6;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:'PUT',headers:{'Content-type':'application/json'},body:JSON.stringify(updTask)});case 6:res=_context5.sent;_context5.next=9;return res.json();case 9:data=_context5.sent;setTasks(tasks.map(function(task){return task.id===id?_objectSpread(_objectSpread({},task),{},{reminder:data.reminder}):task;}));case 11:case\"end\":return _context5.stop();}},_callee5);}));return function toggleReminder(_x4){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{onAdd:function onAdd(){return setShowAddTask(!showAddTask);},showAdd:showAddTask}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[showAddTask&&/*#__PURE__*/_jsx(AddTask,{onAdd:addTask}),tasks.length>0?/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleReminder}):'No Tasks To Show']})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/task/:id\",element:/*#__PURE__*/_jsx(TaskDetails,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"names":["useState","useEffect","BrowserRouter","Router","Route","Routes","Header","Tasks","AddTask","Footer","About","TaskDetails","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","showAddTask","setShowAddTask","_useState3","_useState4","tasks","setTasks","fetchTasks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tasksFromServer","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","_ref2","_callee2","id","res","data","_callee2$","_context2","fetch","concat","json","abrupt","_x","addTask","_ref3","_callee3","task","_callee3$","_context3","method","headers","body","JSON","stringify","_toConsumableArray","_x2","deleteTask","_ref4","_callee4","_callee4$","_context4","filter","_x3","toggleReminder","_ref5","_callee5","taskToToggle","updTask","_callee5$","_context5","_objectSpread","reminder","map","_x4","children","className","onAdd","showAdd","path","element","length","onDelete","onToggle"],"sources":["/Users/zhuji/Desktop/react/task_tracker_react_demo/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom'\nimport Header from \"./components/Header\";\nimport Tasks from \"./components/Tasks\";\nimport AddTask from \"./components/AddTask\";\nimport Footer from \"./components/Footer\";\nimport About from \"./components/About\";\nimport TaskDetails from \"./components/TaskDetails\";\n\n//-----------------------------biaozhu\n//-----------------------\nconst App = () => {\n  const [showAddTask, setShowAddTask] = useState(false)\n  const [tasks, setTasks] = useState([])\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      const tasksFromServer = await fetchTasks()\n      setTasks(tasksFromServer)\n    }\n\n    fetchTasks()\n  }, [])\n\n  //fetch tasks\n  const fetchTasks = async (id) => {\n    const res = await fetch(`http://localhost:5000/tasks/${id}`)\n    const data = await res.json()\n\n    return data\n  }\n\n  //add task\n  const addTask = async (task) => {\n    const res = await fetch('http://localhost:5000/tasks', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(task)\n    })\n\n    const data = await res.json()\n\n    setTasks([...tasks, data])\n\n    // const id = Math.floor(Math.random() * 10000) + 1\n    // const newTask = { id, ...task}\n    // setTasks([...tasks, newTask])\n  }\n\n  //delete Task\n  const deleteTask = async (id) => {\n    await fetch(`http://localhost:5000/tasks/${id}`, {\n      method: 'DELETE'\n    })\n\n    setTasks(tasks.filter((task) => task.id !== id))\n  }\n\n  //reminder\n  const toggleReminder = async (id) => {\n    const taskToToggle = await fetchTasks(id)\n    const updTask = {...taskToToggle, reminder: !taskToToggle.reminder}\n\n    const res = await fetch(`http://localhost:5000/tasks/${id}`, {\n      method:'PUT',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(updTask)\n    })\n\n    const data = await res.json()\n\n\n    setTasks(tasks.map((task) => task.id === id ? { ...task, reminder : data.reminder } : task))\n  }\n\n  return (\n    <Router>\n    <div className=\"container\">\n      <Header onAdd={() => setShowAddTask(!showAddTask)} \n      showAdd={showAddTask} />\n\n      <Routes>\n      <Route path='/' element={\n        <>\n        {showAddTask && <AddTask onAdd={addTask} />}\n        {tasks.length > 0 ? (<Tasks  tasks={tasks} onDelete={deleteTask} onToggle={toggleReminder} />) : ('No Tasks To Show')}\n      </>\n      } />\n      <Route path='/about' element={<About />} />\n\n      <Route path='/task/:id' element={<TaskDetails />} />\n      </Routes>\n\n      <Footer />\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}